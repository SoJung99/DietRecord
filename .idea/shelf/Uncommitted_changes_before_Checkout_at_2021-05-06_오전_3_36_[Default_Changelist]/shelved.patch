Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"org.techtown.dietrecord\">\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\"/>\r\n    <uses-permission android:name=\"android.permission.RECORD_AUDIO\"/>\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/>\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/>\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\">\r\n        <activity android:name=\".MainActivity\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n    </application>\r\n\r\n    <meta-data\r\n        android:name=\"com.kakao.sdk.AppKey\"\r\n        android:value=\"27f8c0e0f6f42a5e147f8b17c7e93539\"/>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision 3f951898311c9d84d0d990ee5231636bce532a08)
+++ app/src/main/AndroidManifest.xml	(date 1620238420298)
@@ -25,6 +25,6 @@
 
     <meta-data
         android:name="com.kakao.sdk.AppKey"
-        android:value="27f8c0e0f6f42a5e147f8b17c7e93539"/>
+        android:value="13dbb49799bdeb0796991817d46f85dc"/>
 
 </manifest>
\ No newline at end of file
Index: app/src/main/res/layout/activity_main.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".MainActivity\">\r\n\r\n    <TextView\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Diet Record!! 캡스톤 디자인 브랜치 테스트 12\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintLeft_toLeftOf=\"parent\"\r\n        app:layout_constraintRight_toRightOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/button\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Button\"\r\n        tools:layout_editor_absoluteX=\"194dp\"\r\n        tools:layout_editor_absoluteY=\"187dp\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_main.xml	(revision 3f951898311c9d84d0d990ee5231636bce532a08)
+++ app/src/main/res/layout/activity_main.xml	(date 1620234413525)
@@ -7,9 +7,10 @@
     tools:context=".MainActivity">
 
     <TextView
+        android:id="@+id/result"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
-        android:text="Diet Record!! 캡스톤 디자인 브랜치 테스트 12"
+        android:text="음성인식 결과"
         app:layout_constraintBottom_toBottomOf="parent"
         app:layout_constraintLeft_toLeftOf="parent"
         app:layout_constraintRight_toRightOf="parent"
@@ -19,7 +20,7 @@
         android:id="@+id/button"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
-        android:text="Button"
+        android:text="음성인식"
         tools:layout_editor_absoluteX="194dp"
         tools:layout_editor_absoluteY="187dp" />
 
Index: .idea/gradle.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"GradleMigrationSettings\" migrationVersion=\"1\" />\r\n  <component name=\"GradleSettings\">\r\n    <option name=\"linkedExternalProjectsSettings\">\r\n      <GradleProjectSettings>\r\n        <option name=\"testRunner\" value=\"PLATFORM\" />\r\n        <option name=\"distributionType\" value=\"DEFAULT_WRAPPED\" />\r\n        <option name=\"externalProjectPath\" value=\"$PROJECT_DIR$\" />\r\n        <option name=\"gradleJvm\" value=\"1.8\" />\r\n        <option name=\"modules\">\r\n          <set>\r\n            <option value=\"$PROJECT_DIR$\" />\r\n            <option value=\"$PROJECT_DIR$/app\" />\r\n          </set>\r\n        </option>\r\n        <option name=\"resolveModulePerSourceSet\" value=\"false\" />\r\n        <option name=\"useQualifiedModuleNames\" value=\"true\" />\r\n      </GradleProjectSettings>\r\n    </option>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/gradle.xml	(revision 3f951898311c9d84d0d990ee5231636bce532a08)
+++ .idea/gradle.xml	(date 1620234858310)
@@ -12,6 +12,17 @@
           <set>
             <option value="$PROJECT_DIR$" />
             <option value="$PROJECT_DIR$/app" />
+            <option value="$PROJECT_DIR$/applications" />
+            <option value="$PROJECT_DIR$/applications/kakao-open-android-sdk-sample" />
+            <option value="$PROJECT_DIR$/libraries" />
+            <option value="$PROJECT_DIR$/libraries/auth" />
+            <option value="$PROJECT_DIR$/libraries/common" />
+            <option value="$PROJECT_DIR$/libraries/message-template" />
+            <option value="$PROJECT_DIR$/libraries/network" />
+            <option value="$PROJECT_DIR$/libraries/push" />
+            <option value="$PROJECT_DIR$/libraries/test-common" />
+            <option value="$PROJECT_DIR$/libraries/usermgmt" />
+            <option value="$PROJECT_DIR$/libraries/util" />
           </set>
         </option>
         <option name="resolveModulePerSourceSet" value="false" />
Index: settings.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>include ':app'\r\nrootProject.name = \"Diet Record\"
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- settings.gradle	(revision 3f951898311c9d84d0d990ee5231636bce532a08)
+++ settings.gradle	(date 1620234856274)
@@ -1,2 +1,11 @@
+include ':libraries:util'
+include ':libraries:common'
+include ':libraries:network'
+include ':libraries:auth'
+include ':libraries:push'
+include ':libraries:usermgmt'
+include ':libraries:message-template'
+include ':applications:kakao-open-android-sdk-sample'
+include ':libraries:test-common'
 include ':app'
 rootProject.name = "Diet Record"
\ No newline at end of file
Index: gradle.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># Project-wide Gradle settings.\r\n# IDE (e.g. Android Studio) users:\r\n# Gradle settings configured through the IDE *will override*\r\n# any settings specified in this file.\r\n# For more details on how to configure your build environment visit\r\n# http://www.gradle.org/docs/current/userguide/build_environment.html\r\n# Specifies the JVM arguments used for the daemon process.\r\n# The setting is particularly useful for tweaking memory settings.\r\norg.gradle.jvmargs=-Xmx2048m\r\n# When configured, Gradle will run in incubating parallel mode.\r\n# This option should only be used with decoupled projects. More details, visit\r\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\r\n# org.gradle.parallel=true\r\n# AndroidX package structure to make it clearer which packages are bundled with the\r\n# Android operating system, and which are packaged with your app\"s APK\r\n# https://developer.android.com/topic/libraries/support-library/androidx-rn\r\nandroid.useAndroidX=true\r\n# Automatically convert third-party libraries to use AndroidX\r\nandroid.enableJetifier=true
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>x-windows-949
===================================================================
--- gradle.properties	(revision 3f951898311c9d84d0d990ee5231636bce532a08)
+++ gradle.properties	(date 1620237369285)
@@ -16,4 +16,6 @@
 # https://developer.android.com/topic/libraries/support-library/androidx-rn
 android.useAndroidX=true
 # Automatically convert third-party libraries to use AndroidX
-android.enableJetifier=true
\ No newline at end of file
+android.enableJetifier=true
+KAKAO_SDK_GROUP=com.kakao.sdk
+KAKAO_SDK_VERSION=1.30.6
\ No newline at end of file
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>apply plugin: 'com.android.application'\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion \"30.0.0\"\r\n\r\n    defaultConfig {\r\n        applicationId \"org.techtown.dietrecord\"\r\n        minSdkVersion 16\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: \"libs\", include: [\"*.jar\"])\r\n    implementation 'androidx.appcompat:appcompat:1.2.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\r\n    implementation 'com.google.android.gms:play-services-fitness:20.0.0'\r\n    implementation 'com.google.android.gms:play-services-auth:19.0.0'\r\n    testImplementation 'junit:junit:4.12'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\r\n\r\n    // 카카오 음성\r\n    implementation 'com.kakao.sdk:newtone:6.1.4'\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build.gradle	(revision 3f951898311c9d84d0d990ee5231636bce532a08)
+++ app/build.gradle	(date 1620236748398)
@@ -1,11 +1,13 @@
-apply plugin: 'com.android.application'
+plugins {
+    id 'com.android.application'
+}
 
 android {
     compileSdkVersion 30
     buildToolsVersion "30.0.0"
 
     defaultConfig {
-        applicationId "org.techtown.dietrecord"
+        applicationId "org.techtown.finalkakao"
         minSdkVersion 16
         targetSdkVersion 30
         versionCode 1
@@ -20,18 +22,21 @@
             proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
         }
     }
+    compileOptions {
+        sourceCompatibility JavaVersion.VERSION_1_8
+        targetCompatibility JavaVersion.VERSION_1_8
+    }
 }
 
 dependencies {
-    implementation fileTree(dir: "libs", include: ["*.jar"])
+
     implementation 'androidx.appcompat:appcompat:1.2.0'
+    implementation 'com.google.android.material:material:1.3.0'
     implementation 'androidx.constraintlayout:constraintlayout:2.0.4'
-    implementation 'com.google.android.gms:play-services-fitness:20.0.0'
-    implementation 'com.google.android.gms:play-services-auth:19.0.0'
-    testImplementation 'junit:junit:4.12'
+    testImplementation 'junit:junit:4.+'
     androidTestImplementation 'androidx.test.ext:junit:1.1.2'
     androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'
 
-    // 카카오 음성
+    api group: 'com.kakao.sdk', name: 'usermgmt', version: '1.30.6'
     implementation 'com.kakao.sdk:newtone:6.1.4'
 }
\ No newline at end of file
Index: .idea/jarRepositories.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"RemoteRepositoriesConfiguration\">\r\n    <remote-repository>\r\n      <option name=\"id\" value=\"central\" />\r\n      <option name=\"name\" value=\"Maven Central repository\" />\r\n      <option name=\"url\" value=\"https://repo1.maven.org/maven2\" />\r\n    </remote-repository>\r\n    <remote-repository>\r\n      <option name=\"id\" value=\"jboss.community\" />\r\n      <option name=\"name\" value=\"JBoss Community repository\" />\r\n      <option name=\"url\" value=\"https://repository.jboss.org/nexus/content/repositories/public/\" />\r\n    </remote-repository>\r\n    <remote-repository>\r\n      <option name=\"id\" value=\"BintrayJCenter\" />\r\n      <option name=\"name\" value=\"BintrayJCenter\" />\r\n      <option name=\"url\" value=\"https://jcenter.bintray.com/\" />\r\n    </remote-repository>\r\n    <remote-repository>\r\n      <option name=\"id\" value=\"Google\" />\r\n      <option name=\"name\" value=\"Google\" />\r\n      <option name=\"url\" value=\"https://dl.google.com/dl/android/maven2/\" />\r\n    </remote-repository>\r\n    <remote-repository>\r\n      <option name=\"id\" value=\"MavenRepo\" />\r\n      <option name=\"name\" value=\"MavenRepo\" />\r\n      <option name=\"url\" value=\"https://repo.maven.apache.org/maven2/\" />\r\n    </remote-repository>\r\n    <remote-repository>\r\n      <option name=\"id\" value=\"maven\" />\r\n      <option name=\"name\" value=\"maven\" />\r\n      <option name=\"url\" value=\"http://devrepo.kakao.com:8088/nexus/content/groups/public/\" />\r\n    </remote-repository>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/jarRepositories.xml	(revision 3f951898311c9d84d0d990ee5231636bce532a08)
+++ .idea/jarRepositories.xml	(date 1620235052216)
@@ -31,5 +31,10 @@
       <option name="name" value="maven" />
       <option name="url" value="http://devrepo.kakao.com:8088/nexus/content/groups/public/" />
     </remote-repository>
+    <remote-repository>
+      <option name="id" value="maven" />
+      <option name="name" value="maven" />
+      <option name="url" value="https://devrepo.kakao.com/nexus/content/groups/public/" />
+    </remote-repository>
   </component>
 </project>
\ No newline at end of file
Index: gradle/wrapper/gradle-wrapper.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>#Fri Mar 26 20:08:45 KST 2021\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.1.1-all.zip\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>x-windows-949
===================================================================
--- gradle/wrapper/gradle-wrapper.properties	(revision 3f951898311c9d84d0d990ee5231636bce532a08)
+++ gradle/wrapper/gradle-wrapper.properties	(date 1620237369270)
@@ -1,6 +1,6 @@
-#Fri Mar 26 20:08:45 KST 2021
+#Thu May 06 02:56:09 KST 2021
 distributionBase=GRADLE_USER_HOME
 distributionPath=wrapper/dists
 zipStoreBase=GRADLE_USER_HOME
 zipStorePath=wrapper/dists
-distributionUrl=https\://services.gradle.org/distributions/gradle-6.1.1-all.zip
+distributionUrl=https\://services.gradle.org/distributions/gradle-6.5-bin.zip
Index: build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath \"com.android.tools.build:gradle:4.0.0\"\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        mavenCentral()\r\n        maven {url 'http://devrepo.kakao.com:8088/nexus/content/groups/public/'}\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- build.gradle	(revision 3f951898311c9d84d0d990ee5231636bce532a08)
+++ build.gradle	(date 1620236716942)
@@ -5,7 +5,7 @@
         jcenter()
     }
     dependencies {
-        classpath "com.android.tools.build:gradle:4.0.0"
+        classpath "com.android.tools.build:gradle:4.1.3"
 
         // NOTE: Do not place your application dependencies here; they belong
         // in the individual module build.gradle files
@@ -16,8 +16,7 @@
     repositories {
         google()
         jcenter()
-        mavenCentral()
-        maven {url 'http://devrepo.kakao.com:8088/nexus/content/groups/public/'}
+        maven { url 'https://devrepo.kakao.com/nexus/content/groups/public/' }
     }
 }
 
Index: app/src/main/java/org/techtown/dietrecord/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package org.techtown.dietrecord;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends AppCompatActivity{\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/org/techtown/dietrecord/MainActivity.java	(revision 3f951898311c9d84d0d990ee5231636bce532a08)
+++ app/src/main/java/org/techtown/dietrecord/MainActivity.java	(date 1620239293833)
@@ -1,15 +1,203 @@
 package org.techtown.dietrecord;
 
 import androidx.appcompat.app.AppCompatActivity;
+import androidx.core.app.ActivityCompat;
+import androidx.core.content.ContextCompat;
 
+import android.Manifest;
+import android.app.Activity;
+import android.app.Application;
+import android.content.Context;
+import android.content.pm.PackageInfo;
+import android.content.pm.PackageManager;
+import android.content.pm.Signature;
 import android.os.Bundle;
+import android.util.Base64;
+import android.util.Log;
+import android.view.View;
+import android.widget.TextView;
+import android.widget.Toast;
+
+import com.kakao.auth.IApplicationConfig;
+import com.kakao.auth.KakaoAdapter;
+import com.kakao.auth.KakaoSDK;
 
-public class MainActivity extends AppCompatActivity{
+import com.kakao.sdk.newtoneapi.SpeechRecognizeListener;
+import com.kakao.sdk.newtoneapi.SpeechRecognizerClient;
+import com.kakao.sdk.newtoneapi.SpeechRecognizerManager;
+import com.kakao.sdk.newtoneapi.impl.util.PermissionUtils;
+
+
+import java.security.MessageDigest;
+import java.util.ArrayList;
+public class MainActivity extends AppCompatActivity implements View.OnClickListener, SpeechRecognizeListener {
+
+
+    private SpeechRecognizerClient client;
+
+    public class MyApplication extends Application {
+        @Override
+        public void onCreate() {
+            super.onCreate();
+
+            // SDK 초기화
+
+            KakaoSDK.init(new KakaoAdapter() {
+
+                @Override
+                public IApplicationConfig getApplicationConfig() {
+                    return new IApplicationConfig() {
+                        @Override
+                        public Context getApplicationContext() {
+                            return MyApplication.this;
+                        }
+                    };
+                }
+            });
+        }
+    }
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         setContentView(R.layout.activity_main);
+        new MyApplication();
+
+        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED || ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {
+            if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.RECORD_AUDIO) && ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.WRITE_EXTERNAL_STORAGE)) {
+                ActivityCompat.requestPermissions(this, new String[] { Manifest.permission.RECORD_AUDIO, Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);
+            } else {
+                // 사용자가 거부하면서 다시 묻지 않기를 클릭.. 권한이 없다고 사용자에게 직접 알림.
+            }
+        } else {
+            //startUsingSpeechSDK();
+        }
+
+        checkPermissions();
+
+        new SpeechRecognizerManager().getInstance().initializeLibrary(this);
+
+        findViewById(R.id.button).setOnClickListener(this);
+    }
+    private void checkPermissions(){
+        String[] permissions = {
+                android.Manifest.permission.INTERNET,
+                android.Manifest.permission.WRITE_EXTERNAL_STORAGE,
+                android.Manifest.permission.ACCESS_NETWORK_STATE,
+                android.Manifest.permission.RECORD_AUDIO
+        };
+
+        int permissionCheck = PackageManager.PERMISSION_GRANTED;
+        for(int i=0; i<permissions.length; i++){
+            permissionCheck = ContextCompat.checkSelfPermission(this,permissions[i]);
+            if(permissionCheck == PackageManager.PERMISSION_DENIED){
+                System.out.println("권한 없음 : "+permissions[i]);
+                if(i==3) ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.RECORD_AUDIO},1);
+                if(i==2) ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},1);
+                i--;
+            }
+            else
+                System.out.println("권한 있음 : "+permissions[i]);
+        }
+    }
+
+    @Override
+    public void onClick(View view) {
+        int id = view.getId();
+        String serviceType = SpeechRecognizerClient.SERVICE_TYPE_WORD;
+        Log.i("MainActivity", "ServiceType : "+serviceType);
+
+        if(id == R.id.button){
+
+            SpeechRecognizerClient.Builder builder = new SpeechRecognizerClient.Builder().
+                    setServiceType(serviceType).
+                    setUserDictionary("걷기 상\n걷기 중\n걷기 하\n달리기 상\n달리기 중\n달리기 하\n줄넘기 상\n줄넘기 중\n줄넘기 하\n수영 상\n수영 중\n수영 하\n" +
+                            "사이클 상\n사이클 중\n사이클 하\n요가 상\n요가 중\n요가 하\n런지 상\n런지 중\n런지 하\n스쿼트 상\n스쿼트 중\n스쿼트 하\n윗몸일으키기 상\n윗몸일으키기 중\n윗몸일으키기 하\n" +
+                            "푸쉬업 상\n푸쉬업 중\n푸쉬업 하\n등산 상\n등산 중\n등산 하\n댄스 상\n댄스 중\n댄스 하\n훌라후프 상\n훌라후프 중\n훌라후프 하\n버피 상\n버피 중\n버피 하\n" +
+                            "플랭크 상\n플랭크 중\n플랭크 하\n팔벌려뛰기 상\n팔벌려뛰기 중\n팔벌려뛰기 하\n풀업 상\n풀업 중\n풀업 하\n계단오르기 상\n계단오르기 중\n계단오르기 하\n" +
+                            "에어로빅 상\n에어로빅 중\n에어로빅 하\n파워워킹 상\n파워워킹 중\n파워워킹 하\n딥스 상\n딥스 중\n딥스 하\n벤치프레스 상\n벤치프레스 중\n벤치프레스 하\n" +
+                            "로잉머신 상\n로잉머신 중\n로잉머신 하\n짐볼운동 상\n짐볼운동 중\n짐볼운동 하\n복싱 상\n복싱 중\n복싱 하\n케틀벨 상\n케틀벨 중\n케틀벨 하\n" +
+                            "농구 상\n농구 중\n농구 하\n테니스 상\n테니스 중\n테니스 하\n축구 상\n축구 중\n축구 하\n탁구 상\n탁구 중\n탁구 하");
+
+
+            /*
+             //음식 음성인식
+            SpeechRecognizerClient.Builder builder = new SpeechRecognizerClient.Builder().
+                    setServiceType(serviceType).
+                    setUserDictionary("물\n사과\n귤\n딸기\n바나나\n배\n토마토\n수박\n아몬드\n밥\n된장찌개\n김치찌개\n콩나물국\n북어국\n" +
+                    "소갈비찜\n돼지불고기\n김치볶음\n장조림\n멸치볶음\n잡채\n김치전\n파전\n시금치나물\n배추김치\n깍두기\n갈치구이\n고등어구이\n" +
+                    "갈비탕\n설렁탕\n삼계탕\n떡국\n칼국수\n물냉면\n비빔냉면\n햄버거\n치즈버거\n생크림케이크\n초콜릿케이크\n도넛\n베이글\n"+
+                    "식빵\n바게트\n달걀프라이\n짜장면\n짬뽕\n탕수육\n우동\n군만두\n라면\n스파게티\n떡볶이\n치킨\n콘샐러드\n치킨샐러드\n감자샐러드\n"+
+                    "백설기\n삶은달걀\n아보카도\n당근\n양상추\n연어\n다시마\n브로콜리\n소고기등심\n군고구마\n닭가슴살\n두부\n단호박\n시리얼\n오이\n"+
+                    "요거트\n샐러리\n호밀빵\n양배추\n파프리카\n곤약\n백김치\n삶은감자\n야채죽\n한개\n두개\n세개\n네개\n다섯개\n여섯개\n일곱개\n여덟개\n아홉개\n열개\n반개\n한컵\n두컵\n세컵\n네컵\n다섯컵\n반컵\n여섯컵\n일곱컵\n여덟컵\n아홉컵\n" +
+                            "열컵\n1인분\n2인분\n3인분\n4인분\n5인분\n6인분\n7인분\n8인분\n9인분\n10인분\n반인분\n하나\n둘\n셋\n넷\n다섯\n여섯\n일곱\n여덟\n아홉\n열\n반\n한조각\n두조각\n세조각\n네조각\n다섯조각\n여섯조각\n일곱조각\n" +
+                            "여덟조각\n아홉조각\n열조각\n반조각\n북어국 1인분\n북어국 2인분\n북어국 반인분\n김치볶음 1인분\n김치볶음 2인분\n김치볶음 반인분\n소갈비찜 1인분\n소갈비찜 2인분\n소갈비찜 반인분\n" +
+                            "돼지불고기 1인분\n돼지불고기 2인분\n돼지불고기 반인분\n멸치볶음 1인분\n멸치볶음 2인분\n멸치볶음 반인분");
+            */
+
+            client = builder.build();
+            client.setSpeechRecognizeListener(this);
+
+            client.startRecording(true);
+
+            Toast.makeText(this, "음성인식을 시작합니다.", Toast.LENGTH_SHORT).show();
+            
+            findViewById(R.id.button).setEnabled(false);
+        }
+    }
+    public void onDestroy() {
+        super.onDestroy();
+
+        SpeechRecognizerManager.getInstance().finalizeLibrary();
+    }
+
+    @Override
+    public void onReady() {
+
+    }
+
+    @Override
+    public void onBeginningOfSpeech() {
+
+    }
+
+    @Override
+    public void onEndOfSpeech() {
+
+    }
+
+    @Override
+    public void onError(int errorCode, String errorMsg) {
+
+    }
+
+    @Override
+    public void onPartialResult(String partialResult) {
+
+    }
+
+    @Override
+    public void onResults(Bundle results) {
+        final StringBuilder builder = new StringBuilder();
+        ArrayList<String> texts = results.getStringArrayList(SpeechRecognizerClient.KEY_RECOGNITION_RESULTS);
+        ArrayList<Integer> confs = results.getIntegerArrayList(SpeechRecognizerClient.KEY_CONFIDENCE_VALUES);
+
+        builder.append(texts.get(0));
+
+        TextView result = findViewById(R.id.result);
+        result.setText(builder.toString());
+
+        findViewById(R.id.button).setEnabled(true);
+    }
+
+    @Override
+    public void onAudioLevel(float audioLevel) {
+
+    }
+
+    @Override
+    public void onFinished() {
+
     }
 }
 
